{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","website","localStorage","getItem","websiteObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.6fb59a5f.map","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\"); //jQuery开头用$，找到siteList\r\nconst $lastLi = $siteList.find(\"li.last\");\r\nconst website = localStorage.getItem('website')\r\nconst websiteObject = JSON.parse(website)  //把字符串重新变成对象\r\nconst hashMap = websiteObject || [\r\n  { logo: \"A\", url: \"https://www.acfun.cn\" },\r\n  {logo: \"B\", url: \"https://www.bilibili.com\"}\r\n];  \r\n// 因为xObject（此处x语义化命名为website）一开始是空的，用户没用过，所以写成“如果xObject存在，使用xObject，如果不存在就用默认的数组（后面的代码）”\r\n\r\nconst simplifyUrl  = (url)=>{\r\n  return url.replace('https://', '')\r\n  .replace('http://', '')\r\n  .replace('www.', '')\r\n  .replace('.cn', '')\r\n  .replace('.com', '')\r\n  .replace(/\\/.*/, '') \r\n} \r\n//simplifyUrl 简化url\r\n//最后一个replace是正则表达式，删除以/开头的内容\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last\").remove(); //找到siteList所有li但是不包括last最后一个并移除\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`<li>\r\n      <div class=\"site\">\r\n          <div class=\"logo\">${node.logo}</div>\r\n          <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n          <div class=\"close\">\r\n            <svg class=\"icon\">\r\n              <use xlink:href=\"#icon-delete\"></use>\r\n            </svg>  \r\n          </div>\r\n      </div>\r\n    </li>`).insertBefore($lastLi)\r\n    $li.on('click', ()=>{\r\n      window.open(node.url)\r\n    })\r\n    $li.on('click', '.close', (e)=>{\r\n      e.stopPropagation() //阻止冒泡事件，防止点击跳转链接\r\n      hashMap.splice(index, 1) //根据索引删除1个\r\n      render()  //重新渲染\r\n    })\r\n  })\r\n}\r\n\r\nrender()\r\n\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入以 www 开头的正确网址\");\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  hashMap.push({ \r\n    logo: simplifyUrl(url)[0].toUpperCase(), \r\n    url: url \r\n  })  // .toUpperCase()把字符变成大写\r\n  render()\r\n})\r\n\r\n//localStorage是个全局变量，只能存字符串，不能存对象\r\nwindow.onbeforeunload = () =>{\r\n    const string =  JSON.stringify(hashMap) //JSON.stringify()能把对象变成字符串\r\n    localStorage.setItem('website', string)  //在本地的存储里面设置一个x，此处语义化命名为website，值为string\r\n}\r\n\r\n$(document).on('keypress', (e)=>{\r\n  const {key} = e\r\n  for(let i = 0; i<hashMap.length; i++) {\r\n    if(hashMap[i].logo.toLowerCase()===key){\r\n      window.open(hashMap[i].url)\r\n    }\r\n  }\r\n})\r\n"]}